<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>font_get_info</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css" />
  <script src="../../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Gurpreet S. Matharoo" />
  <meta name="topic-comment" content="Page outlining the function font_get_info" />
  <meta name="rh-index-keywords" content="font_get_info" />
  <meta name="search-keywords" content="font_get_info" />
  <meta name="is_pure" content="true" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>font_get_info</h1>
  <p>这个函数用来检索给定的<span class="notranslate">font</span> 的信息。你提供一个<span class="notranslate">font</span> 索引（可以是通过<a href="../../../../Introduction/The_Asset_Browser.htm">资产浏览器</a>添加的<span class="notranslate">asset</span> ，也可以是在<span class="notranslate">font</span><a href="font_add.htm">添加的</a> <span class="notranslate">runtime</span> ），该函数返回一个包含以下变量的<a href="../../../GML_Overview/Structs.htm">结构</a>。</p>
  <table>
    <colgroup>
      <col />
      <col />
      <col />
    </colgroup>
    <tbody>
      <tr>
        <th colspan="3"><span data-keyref="Type_Struct_Font_Info"><a data-rhwidget="HyperlinkPopover" href="../../../../../GameMaker_Language/GML_Reference/Asset_Management/Fonts/font_get_info.htm">字体信息结构</a></span></th>
      </tr>
      <tr>
        <th>变量名称</th>
        <th style="">数据类型</th>
        <th style="">描述</th>
      </tr>
      <tr>
        <td><span class="inline">ascenderOffset</span></td>
        <td style=""><span data-keyref="Type_Real"><a data-rhwidget="HyperlinkPopover" href="../../../../../GameMaker_Language/GML_Overview/Data_Types.htm">真实的</a></span></td>
        <td style="">从基线到<span class="notranslate">font</span> 的顶部的最大偏移量（像素）。</td>
      </tr>
      <tr>
        <td><span class="inline">size</span></td>
        <td style=""><span data-keyref="Type_Real"><a data-rhwidget="HyperlinkPopover" href="../../../../../GameMaker_Language/GML_Overview/Data_Types.htm">真实的</a></span></td>
        <td style=""><span class="notranslate">font</span> 的大致尺寸（像素）。</td>
      </tr>
      <tr>
        <td><span class="inline">spriteIndex</span></td>
        <td style=""><span data-keyref="Type_Asset_Sprite"><a data-rhwidget="HyperlinkPopover" href="../../../../../The_Asset_Editors/Sprites.htm">雪碧资产</a></span></td>
        <td style=""><span class="notranslate">sprite</span> 如果是<a href="font_add_sprite.htm">由精灵创建的</a>，则是<span class="notranslate">font</span> 的索引，否则为-1</td>
      </tr>
      <tr>
        <td><span class="inline">texture</span></td>
        <td style=""><span data-keyref="Type_Pointer"><a data-rhwidget="HyperlinkPopover" href="../../../../../GameMaker_Language/GML_Overview/Data_Types.htm">指针</a></span></td>
        <td style="">如果<span class="notranslate">font</span> 是由<span class="notranslate">sprite</span> 创建的，则为 -1 ，否则为字体的<span class="notranslate">texture</span> ID。</td>
      </tr>
      <tr>
        <td><span class="inline">name</span></td>
        <td style=""><span data-keyref="Type_String"><a data-rhwidget="HyperlinkPopover" href="../../../../../GameMaker_Language/GML_Overview/Data_Types.htm">字符串</a></span></td>
        <td style="">字体的名称</td>
      </tr>
      <tr>
        <td><span class="inline">bold</span></td>
        <td style=""><span data-keyref="Type_Bool"><a data-rhwidget="HyperlinkPopover" href="../../../../../GameMaker_Language/GML_Overview/Data_Types.htm">布尔型</a></span></td>
        <td style=""><span class="inline">true</span> 如果 ，则为黑体，否则<span class="notranslate">font</span> <span class="inline">false</span> <em> （见下文<strong>注 </strong></em>）。</td>
      </tr>
      <tr>
        <td><span class="inline">italic</span></td>
        <td style=""><span data-keyref="Type_Bool"><a data-rhwidget="HyperlinkPopover" href="../../../../../GameMaker_Language/GML_Overview/Data_Types.htm">布尔型</a></span></td>
        <td style=""><span class="inline">true</span> 如果 ，则为斜体，否则为<span class="notranslate">font</span> <span class="inline">false</span><em> （见下文<strong>注） </strong></em>。</td>
      </tr>
      <tr>
        <td><span class="inline">glyphs</span></td>
        <td style=""><span data-keyref="Type_Struct_Font_Info_Glyph"><a data-rhwidget="HyperlinkPopover" href="../../../../../GameMaker_Language/GML_Reference/Asset_Management/Fonts/font_get_info.htm">字体字形结构</a></span></td>
        <td style="">一个<span class="notranslate">struct</span> ，其中包含<span class="notranslate">font</span> 中每个字形的信息（更多信息<a href="#glyphs">见下文</a>）。</td>
      </tr>
    </tbody>
  </table>
  <p class="note"><span class="note">注意</span> <span class="inline"><strong>bold</strong></span> 和<span class="inline">i</span><span class="inline">talic</span> 变量只反映用户对<span class="notranslate">font</span> 的设置，所以对于默认出现粗体或斜体的<span class="notranslate">fonts</span> 可能不准确。</p>
  <p>如果提供的<span class="notranslate">font</span> 不存在，函数将返回 <span class="inline">undefined</span> 。</p>
  <p>还要注意的是，改变任何这些变量的值，或任何包含在 <span class="inline">glyphs</span> <span class="notranslate">struct</span> 中的变量，都不会改变<span class="notranslate">font</span> 的渲染方式，所以这些信息应该被认为是<strong>只读</strong>的。</p>
  <h2 id="glyphs">字母结构</h2>
  <p>返回的<span class="notranslate">struct</span> 中的 <span class="inline">glyphs</span> 变量将是一个独立的<span class="notranslate">struct</span> ，包含<span class="notranslate">font</span> 中包含的每个字形的信息。这个结构中的每个变量将是一个字形的字符名称，它将持有一个包含该字形信息的<span class="notranslate">struct</span> 。你可以想象这些嵌套的<span class="notranslate">structs</span> ，格式如下（从主<span class="notranslate">struct</span> 开始）。</p>
  <p class="code">{<br />
        glyphs:<br />
        {<br />
            A: {},<br />
            B: {},<br />
            C: {},<br />
            // ...other glyphs<br />
        },<br />
        // ...other font info<br />
    }</p>
  <p>你可以使用一个字形的字符名称从<span class="notranslate">struct</span> ，如以下代码中检索其信息。</p>
  <p class="code">var _font_info = font_get_info(Font1);<br />
    <br />
    var _info_A = _font_info.glyphs[$ &quot;A&quot;]; // $ is a struct accessor<br />
    <br />
    show_debug_message(_info_A);
  </p>
  <p>上面的代码得到了 &quot;A &quot;字的字形<span class="notranslate">struct</span> ，并将其打印到输出日志。你也可以用一个持有<span class="notranslate">string</span> 的变量来代替<span class="notranslate">string</span> (<span class="inline">&quot;A&quot;</span>)，这样你就可以通过这个变量获得任何字形的信息，<span class="notranslate">runtime</span> 。</p>
  <p>为一个字形返回的<span class="notranslate">struct</span> ，将包含以下变量。</p>
  <p class="note"><span class="note">注意</span>在HTML5上，对于任何加载的文件<span class="notranslate">struct</span> （如 <span class="inline">*.ttf</span> 或 <span class="inline">*.otf</span> ），字形<span class="notranslate">fonts</span> 将是空的，因为<span class="notranslate">runtime</span> 不会有这些字形的信息。</p>
  <table>
    <colgroup>
      <col />
      <col />
      <col />
    </colgroup>
    <tbody>
      <tr>
        <th colspan="3"><span data-keyref="Type_Struct_Font_Info_Glyph"><a data-rhwidget="HyperlinkPopover" href="../../../../../GameMaker_Language/GML_Reference/Asset_Management/Fonts/font_get_info.htm">字体字形结构</a></span></th>
      </tr>
      <tr>
        <th>变量名称</th>
        <th style="">数据类型</th>
        <th style="">描述</th>
      </tr>
      <tr>
        <td><span class="inline">char</span></td>
        <td style="">真正的</td>
        <td style="">如果<span class="notranslate">font</span> 是由<span class="notranslate">sprite</span> 创建的，这将是该<span class="notranslate">sprite</span> 的字形的图像索引，否则它将是其 Unicode 字符号。<br>
          <br>
         <em><strong>注意</strong>：如果<span class="notranslate">struct</span> 是由一个精灵创建的，那么下面的所有变量将不会出现在<span class="notranslate">font</span> </em>中。
        </td>
      </tr>
      <tr>
        <td><span class="inline">x</span></td>
        <td style="">真正的</td>
        <td style="">字形在<span class="notranslate">texture</span> 页面上的X位置（单位：texels）。</td>
      </tr>
      <tr>
        <td><span class="inline">y</span></td>
        <td style="">真正的</td>
        <td style="">字形在<span class="notranslate">texture</span> 页面上的Y位置（单位：texels）。</td>
      </tr>
      <tr>
        <td><span class="inline">w</span></td>
        <td style="">真正的</td>
        <td style=""><span class="notranslate">texture</span> 页面上字形的宽度（单位：texels）。</td>
      </tr>
      <tr>
        <td><span class="inline">h</span></td>
        <td style="">真正的</td>
        <td style=""><span class="notranslate">texture</span> 页面上字形的高度（单位：texels）。</td>
      </tr>
      <tr>
        <td><span class="inline">shift</span></td>
        <td style="">真正的</td>
        <td style="">推进到下一个字符时向右移动的像素数（向左移动时可以是负数）。</td>
      </tr>
      <tr>
        <td><span class="inline">offset</span></td>
        <td style="">真正的</td>
        <td style="">对该字形进行水平偏移的像素数（可以是正数或负数）。</td>
      </tr>
      <tr>
        <td><span class="inline">kerning</span></td>
        <td style="">阵列</td>
        <td style="">一个整数数组，包含成对（或2个一组）的字符间距信息。一对中的第一个整数是一个字符的Unicode值，第二个整数是如果该字符被这个字形的字符所取代，要加到该字符的移位值上的数额（可以是正数或负数）。</td>
      </tr>
    </tbody>
  </table>
  <p class="note"><span class="note">注意</span>对于在<span class="notranslate">fonts</span> 上加载的文件<span class="notranslate">runtime</span> ，如果一个字形还没有被渲染，<span class="inline">x</span> 和 <span class="inline">y</span> 的值可能是-1，因为它在用于缓存的<span class="notranslate">texture</span> 页面上没有位置。</p>
  <p> </p>
  <h4>语法。</h4>
  <p class="code">font_get_info(font);</p>
  <table>
    <tbody>
      <tr>
        <th>争论</th>
        <th>类型</th>
        <th>描述</th>
      </tr>
      <tr>
        <td><span class="notranslate">font</span></td>
        <td><span data-keyref="Type_Asset_Font"><a data-rhwidget="HyperlinkPopover" href="../../../../../The_Asset_Editors/Fonts.htm">字体资产</a></span></td>
        <td><span class="notranslate">The font for which information should be retrieved.</span></td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>返回。</h4>
  <p class="code"><span data-keyref="Type_Struct_Font_Info"><a data-rhwidget="HyperlinkPopover" href="../../../../../GameMaker_Language/GML_Reference/Asset_Management/Fonts/font_get_info.htm">Font Info Struct</a></span> (or undefined)</p>
  <p> </p>
  <h4>例子。</h4>
  <p class="code">var _info = font_get_info(my_font);<br />
    <br />
    if (_info != undefined &amp;&amp; _info.bold)<br />
    {<br />
        image_xscale *= 2;<br />
        image_yscale *= 2;<br />
    }
  </p>
  <p>这段代码检索了存储在 <span class="inline">my_font</span> 变量中的<span class="notranslate">font</span> 的信息。如果返回的值<strong>不是 </strong><span class="inline">undefined</span> ，并且给定的<span class="notranslate">font</span> 是粗体的，那么该实例的比例就会增加一倍。</p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">返回。<a href="Fonts.htm">字体</a></div>
        <div style="float:right">下一步。 <a href="font_exists.htm"><span class="notranslate">font_exists</span></a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright<span class="notranslate">YoYo Games Ltd.</span> 2022 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
font_get_info
-->
  <!-- TAGS
font_get_info
-->
</body>
</html>
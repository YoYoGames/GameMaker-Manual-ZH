<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>gml_pragma</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../../assets/css/default.css" type="text/css" />
  <script src="../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Reference page for gml_pragma" />
  <meta name="rh-index-keywords" content="gml_pragma" />
  <meta name="search-keywords" content="gml_pragma" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>gml_pragma</h1>
  <p> <span class="inline">gml_pragma</span> 函数会影响给定目标如何编译你的代码，并应与不同的命令一起调用，以进一步优化你项目的最终编译。这些命令有效地在游戏编译前<i>进行了预处理</i>，因此该函数可以放在你项目的任何地方，它仍然会在游戏完全编译前被处理。可用的命令如下。</p>
  <ul class="colour">
    <li><b>&quot;forceinline</b>&quot; - 当在<b>脚本函数</b>中使用 &quot;forceinline &quot;pragma调用该函数时，YYC将以内联方式编译该函数，而不是引用。这将进一步提高处理能力，但在使用时必须注意，因为它也会增加最终可执行文件的大小，特别是如果内联的代码很大和/或在多个不同的地方使用，以及大大增加编译时间。请注意，这个预设值<b>只在使用YYC构建时有效</b>。</li>
    <li><span class="notranslate">GML</span> &quot;<b>global</b>&quot;, &quot;<b>[gml code]&quot;</b>- &quot;global&quot; pragma允许你在编译时，在游戏的第一个<span class="notranslate">string</span> ，在<b>全局</b>范围内调用一些格式化的<span class="notranslate">room</span> 代码。比如说。
     <p class="code">gml_pragma(&quot;global&quot;, &quot;Init()&quot;);</p>
      这将在运行游戏的第一个<span class="notranslate">script</span> 之前调用<span class="notranslate">room</span> 函数 &quot;Init&quot;。注意，作为第二个参数提供的<span class="notranslate">GML</span> <b>必须是一个编译时常量</b>，同时注意，你不能使用这个谚语来创建实例或执行任何需要<span class="notranslate">room</span> （或<span class="notranslate">room</span> 中的任何东西）才能发挥作用的操作。
    </li>
    <li>&quot;<b>PNGCrush</b>&quot; - &quot;PNGCrush&quot; pragma将在创建的每个<span class="notranslate">texture</span> ，使用<a href="https://pmt.sourceforge.io/pngcrush/" target="_blank">PNGCrush</a>程序。请注意，这可能会大大增加编译游戏的时间，所以你不希望一直使用它，尽管它可以大大节省最终文件的大小。这个选项只适用于使用PNG格式的<span class="notranslate">Texture</span> 组（<a data-xref="{text}" href="../../../Settings/Texture_Groups.htm#h">见组设置</a>）。</li>
    <li><b>&quot;Texgroup.Scale</b>&quot;, &quot;<b>[TextureGroupName]&quot;</b>, &quot;<b>[Scale Divisor]&quot;</b>- &quot;Texgroup.Scale &quot;将在编译时缩放给定的<span class="notranslate">texture</span> 组。你需要在这里给出另外两个参数：&quot;[TexGroupName]&quot;，它是要缩放的<span class="notranslate">string</span> 组的名称（<span class="notranslate">texture</span> ），以及&quot;[Scale Divisor]&quot;（也是<span class="notranslate">string</span> ），它是你希望用于缩放的除数，也就是
     <p class="code">gml_pragma(&quot;Texgroup.Scale&quot;, &quot;level1&quot;, &quot;2&quot;);</p>
      这将是 &quot;level1 &quot;<span class="notranslate">textures</span> 组中所有<span class="notranslate">texture</span> 的一半。
    </li>
    <li>&quot;<b>UnityBuild</b>&quot;, &quot;<b>[enable/disable]&quot;</b>- 如果你用这个pragma调用函数，并将enable/disable参数设置为 <span class="inline">true</span> ，那么在编译时，它将把项目中所有的.cpp文件折叠成一个文件，然后用它来构建一切，比如说。
     <p class="code">gml_pragma(&quot;UnityBuild&quot;, &quot;true&quot;);</p>
      统一编译的好处是编译速度更快，但缺点是每次都要进行<i>完整的</i>编译，所以即使你改变了代码的一个部分，它也会重新编译所有文件，而不使用任何缓存文件。这是为使用YYC的Xbox One出口专门添加的，尽管它可以为其他构建调用<b>（仅YYC</b>）。关于unity构建的更多信息，请看<a href="http://buffered.io/posts/the-magic-of-unity-builds/" target="_blank">这里</a>。
    </li>
  </ul>
  <p class="note"><b>注意</b>： <span class="inline">gml_pragma</span> 函数的第一个参数<b>必须是一个编译时<span class="notranslate">string</span> 常数</b>，而不是一个变量。</p>
  <p> </p>
  <h4>语法。</h4>
  <p class="code">gml_pragma(command, [optional...]);</p>
  <table>
    <tbody>
      <tr>
        <th>争论</th>
        <th>类型</th>
        <th>描述</th>
      </tr>
      <tr>
        <td><span class="notranslate">command</span></td>
        <td><span data-keyref="Type_String"><a data-rhwidget="HyperlinkPopover" href="../../../../GameMaker_Language/GML_Overview/Data_Types.htm">字符串</a></span></td>
        <td><span class="notranslate">A string with one of the commands listed above.</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">[optional]</span></td>
        <td><span data-keyref="Type_String"><a data-rhwidget="HyperlinkPopover" href="../../../../GameMaker_Language/GML_Overview/Data_Types.htm">字符串</a></span></td>
        <td><span class="notranslate">Some of the available commands require an optional argument or arguments. These are explained above for each command.</span></td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>返回。</h4>
  <p class="code"><span data-keyref="Type_Void">N/A</span></p>
  <p> </p>
  <h4>例子。</h4>
  <p class="code">gml_pragma(&quot;forceinline&quot;);</p>
  <p>上面的示例代码将强制在编译时将使用的<span class="notranslate">script</span> 函数内联。</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">回来了。<a href="OS_And_Compiler.htm">操作系统和编译器</a></div>
        <div style="float:right">下一步。 <a href="parameter_count.htm"><span class="notranslate">parameter_count</span></a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright<span class="notranslate">YoYo Games Ltd.</span> 2022 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
gml_pragma
-->
  <!-- TAGS
gml_pragma
-->
</body>
</html>
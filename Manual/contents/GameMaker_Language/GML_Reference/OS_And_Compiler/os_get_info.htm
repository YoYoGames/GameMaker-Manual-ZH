<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>读取信息（os_get_info</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../../assets/css/default.css" type="text/css" />
  <script src="../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Reference page for os_get_info" />
  <meta name="rh-index-keywords" content="os_get_info" />
  <meta name="search-keywords" content="os_get_info" />
  <meta name="is_pure" content="true" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>读取信息（os_get_info</h1>
  <p>这个函数返回一个 <a href="../Data_Structures/DS_Maps/DS_Maps.htm"><span class="inline">DS Map</span></a>的详细信息，其中包括游戏所运行的操作系统。返回的确切信息将取决于操作系统和设备，所以建议你在所有你想针对的平台上测试这个函数，并使用类似 <span class="inline"><a href="../Debugging/show_debug_message.htm">show_debug_message()</a></span> 的函数输出返回的值。请注意，DS地图不会自动从内存中清除，你应该在不再需要时使用该 <a href="../Data_Structures/DS_Maps/ds_map_destroy.htm"><span class="inline">ds_map_destroy()</span></a>函数，当你不再需要它的时候。</p>
  <p>下面你可以找到一些关于将提供给DS地图的特定于以下平台的额外数据的细节，需要注意的是，在<em>除</em>HTML5<em>之外</em>的所有平台上，地图将有一个键&quot;<span><span class="inline">is64bit</span>&quot;，根据运行器是否在64位模式下运行，它将是 <span class="inline">true</span> 或 <span class="inline">false</span> </span>。</p>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down" href="#">Windows / UWP</a></p>
  <div class="droptext" data-targetname="drop-down">
    <p class="dropspot">在<span class="notranslate">Windows</span> 桌面和<span class="notranslate">Windows UWP</span> ，你将从DX11中获得一些额外的数据，在DS地图中可获得以下按键（对<span class="notranslate">extensions</span> ）。</p>
    <ul class="dropspotlist">
      <li><span class="inline">udid</span>:一个对机器来说独一无二的标识符</li>
      <li><strong><span class="inline">video_d3d11_device</span></strong>: 指向DX11设备的指针</li>
      <li><strong><span class="inline">video_d3d11_context</span></strong>: 指向DX11上下文的指针</li>
      <li><span class="inline">video_d3d11_spawnchain</span>: 指向DX11交换链的指针</li>
      <li><strong><span class="inline">video_adapter_vendorid</span></strong>:<span class="notranslate">string</span> ，带有适配器的供应商ID</li>
      <li><strong><span class="inline">video_adapter_deviceid</span></strong>:<span class="notranslate">string</span> ，带有适配器的设备ID</li>
      <li><strong><span class="inline">video_adapter_subsysid</span></strong>:<span class="notranslate">string</span> 与适配器的子系统ID</li>
      <li><strong><span class="inline">video_adapter_revision</span></strong>:<span class="notranslate">string</span> ，带有适配器的修订号码</li>
      <li><span class="inline">video_adapter_description</span>:<span class="notranslate">string</span> 与视频适配器的说明</li>
      <li><strong><span class="inline">video_adapter_dedicatedvideomemory</span></strong>:<span class="notranslate">string</span> 与视频存储器的大小有关</li>
      <li><strong><span class="inline">video_adapter_dedicatedsystemmemory</span></strong>:<span class="notranslate">string</span> 与系统内存的大小（由DX11适配器使用）。</li>
      <li><span class="inline">video_adapter_sharedsystemmemory</span>:<span class="notranslate">string</span> ，共享系统内存的大小。</li>
    </ul>
    <p> </p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down3" href="#">macOS</a></p>
  <div class="droptext" data-targetname="drop-down3">
    <p class="dropspot">该函数在MacOS上返回一些有限的OpenGL信息。</p>
    <ul class="dropspotlist">
      <li class="dropspot"><span class="inline">udid</span>:一个对机器来说独一无二的标识符</li>
      <li class="dropspot"><span class="inline">gl_vendor_string</span>: <span class="inline">GL_VENDOR</span> ，来自OpenGL的例子 -<em>&quot;Intel公司&quot;。</em></li>
      <li class="dropspot"><span class="inline">gl_version_string</span>: <span class="inline">GL_VERSION </span>，来自OpenGL的例子 -<em>&quot;2.1 INTEL-16.2.16&quot;</em></li>
      <li class="dropspot"><span class="inline">gl_renderer_string</span>: <span class="inline">GL_RENDERER </span>来自OpenGL，例如 -<em>&quot;Intel(R) Iris(TM) Graphics 6100&quot;</em></li>
    </ul>
    <p class="dropspot"> </p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down4" href="#">乌班图</a></p>
  <div class="droptext" data-targetname="drop-down4">
    <p class="dropspot">这包含了与<span class="notranslate">macOS</span> 相同的信息。</p>
    <p class="dropspot"> </p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down1" href="#">安卓</a></p>
  <div class="droptext" data-targetname="drop-down1">
    <p class="dropspot">在<b>安卓</b>平台上，你将从各种不同的API中获得一些额外的数据，在DS地图上有以下键。</p>
    <ul class="dropspotlist">
      <li><span class="inline">android_tv</span>: 如果设备被检测到是一个<span class="notranslate">Android</span> 电视设备，这将返回 <span class="inline">true</span> ，否则返回 <span class="inline">false</span> 。</li>
      <li><span class="inline">GL_VERSION</span>: 驱动程序所报告的OpenGL版本。</li>
      <li><span class="inline">GL_VENDOR</span>: 驱动程序所报告的OpenGL的供应商</li>
      <li><span class="inline">GL_RENDERER</span>: 驱动程序报告的OpenGL渲染器。</li>
      <li><span class="inline">GL_EXTENSIONS</span>: 驱动程序所报告的OpenGL的<span class="notranslate">extensions</span> 。</li>
      <li><span class="inline">GL_SHADING_LANGUAGE_VERSION</span>:该OpenGL驱动所支持的GLSL的版本。</li>
      <li><span class="inline">GL_MAX_TEXTURE_SIZE</span>: 该OpenGL驱动程序支持的最大<span class="notranslate">texture</span> 。</li>
      <li><span class="inline">SDK_INT</span>:<strong>android.os.Build.VERSION.SDK_INT</strong>的值<em> （见下文注释</em>）。</li>
      <li><span class="inline">RELEASE</span>:<strong>android.os.Build.VERSION.RELEASE</strong>的值</li>
      <li><span class="inline">MODEL</span>:<strong>android.os.Build.MODEL</strong>的值</li>
      <li><span class="inline">DEVICE</span>:<strong>android.os.Build.DEVICE</strong>的值</li>
      <li><span class="inline">MANUFACTURER</span>:<strong>android.os.Build.MANUFACTURER</strong>的值</li>
      <li><span class="inline">CPU_ABI</span>:<strong>android.os.Build.CPU_ABI</strong>的值</li>
      <li><span class="inline">CPU_ABI2</span>:<strong>android.os.Build.CPU_ABI2</strong>的值</li>
      <li><span class="inline">BOOTLOADER</span>:<strong>android.os.Build.BOOTLOADER</strong>的值</li>
      <li><span class="inline">BOARD</span>:<strong>android.os.Build.BOARD</strong>的值</li>
      <li><span class="inline">VERSION</span>:<strong>os.version</strong>的值来自<span class="notranslate">Android</span> <span class="inline">System.getProperty</span> 方法。</li>
      <li><span class="inline">REGION</span>:<strong>user.region</strong>的值来自<span class="notranslate">Android</span> <span class="inline">System.getProperty</span> 方法。</li>
      <li><span class="inline">VERSION_NAME</span>: 这个包的版本名称的值 - 更多信息请看<a href="https://developer.android.com/reference/android/content/pm/PackageInfo.html#versionName" target="_blank">这里</a>。</li>
      <li><span class="inline">PHYSICAL_KEYBOARD</span>：如果我们认为有实体键盘，那么<span class="notranslate">string</span> <span class="inline">&quot;TRUE&quot;</span> ，否则 <span class="inline">&quot;FALSE&quot;</span></li>
    </ul>
    <p class="note"><span class="dropspotnote"><strong>注意</strong>：关于任何<strong>android.os.Build</strong>变量的信息，请参阅<a href="https://developer.android.com/reference/android/os/Build" title="Android Developer documentation">Android开发者文档</a>。</span></p>
    <p> </p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down2" href="#">iOS &amp; tvOS</a></p>
  <div class="droptext" data-targetname="drop-down2">
    <p class="dropspot">以下是在<span class="notranslate">iOS</span> 和<span class="notranslate">tvOS</span> 上返回的键（详细信息，请参考苹果开发者文档）。</p>
    <ul class="dropspotlist">
      <li class="dropspot"><span class="inline">name</span>:<span class="notranslate">string</span> ，由 <span class="inline">[[UIDevice currentDevice] name]</span></li>
      <li class="dropspot"><span class="inline">systemName</span>:<span class="notranslate">string</span> ，由 <span class="inline">[[UIDevice currentDevice] systemName]</span></li>
      <li class="dropspot"><span class="inline">systemVersion</span>注：字符串，如以下报告 <span class="inline">[[UIDevice currentDevice] systemVersion]</span></li>
      <li class="dropspot"><span class="inline">model</span>注：字符串，如以下报告 <span class="inline">[[UIDevice currentDevice] model]</span></li>
      <li class="dropspot"><span class="inline">localisedModel</span>注：字符串，如以下报告 <span class="inline">[[UIDevice currentDevice] localizedModel]</span></li>
      <li class="dropspot"><span class="inline">uiIdiom</span>注：字符串，如以下报告 <span class="inline">[[UIDevice currentDevice] userInterfaceIdiom]</span></li>
      <li class="dropspot"><span class="inline">platform</span>:<span class="inline">hw.machine</span> <span class="notranslate">string</span> 收集自 <span class="inline">sysctlbyname</span></li>
      <li class="dropspot"><span class="inline">hwModel</span>:<span class="inline">hw.model</span> <span class="notranslate">string</span> 收集自 <span class="inline">sysctlbyname</span></li>
      <li class="dropspot"><span><span class="inline">freeDiskSpace</span>:可用的磁盘空间</span></li>
      <li class="dropspot"><span><span class="inline">totalDiskSpace</span>:总的磁盘空间</span></li>
      <li class="dropspot"><span><span class="inline">cpuFrequency</span>:CPU的频率</span></li>
      <li class="dropspot"><span><span class="inline">busFrequency</span>:母线频率</span></li>
      <li class="dropspot"><span><span class="inline">cpuCount</span>:CPU的数量</span></li>
      <li class="dropspot"><span><span class="inline">totalMemory</span>:设备的总内存</span></li>
      <li class="dropspot"><span><span class="inline">userMemory</span>:用户内存</span></li>
      <li class="dropspot"><span><span class="inline">maxSocketBufferSize</span>:最大的插座<span class="notranslate">buffer</span> 尺寸</span></li>
      <li class="dropspot">包含OpenGL图形信息的附加键<br>
         </li>
    </ul>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down11" href="#">Opera GX</a></p>
  <div class="droptext" data-targetname="drop-down11">
    <p class="dropspot">以下额外的按键将包括在Opera GX的DS地图中。</p>
    <ul class="colour">
      <li class="dropspot"><span class="inline">mobile</span>:如果游戏是在移动浏览器上运行，这将是<strong>1.0</strong>，如果不是，则是<strong>0.0</strong>。</li>
    </ul>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down5" href="#">HTML5</a></p>
  <div class="droptext" data-targetname="drop-down5">
    <p class="dropspot">返回 <span class="inline">-1</span> 。</p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down6" href="#">任天堂开关</a></p>
  <div class="droptext" data-targetname="drop-down6">
    <p class="dropspot">返回 <span class="inline">-1</span> 。</p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down7" href="#">淘宝网4</a></p>
  <div class="droptext" data-targetname="drop-down7">
    <p class="dropspot"><em>关于这里提到的功能，请参考PS4文档。</em></p>
    <p class="dropspot">该函数在PlayStation 4游戏机上返回以下按键。</p>
    <ul class="dropspotlist">
      <li class="dropspot"><span class="inline">display_safe_area_ratio</span>:一个由 <span class="inline">sceSystemServiceGetDisplaySafeAreaInfo()</span> 返回的浮点数。</li>
      <li class="dropspot"><span class="inline">is_neo_mode</span>:如果游戏在Neo（PS4 Pro）上运行，这将是 <span class="inline">1</span> ，如果在普通PS4上运行，则是 <span class="inline">0</span> 。</li>
      <li class="dropspot"><span class="inline">enter_button_assign</span>:一个由 <span class="inline">sceSystemServiceParamGetInt(SCE_SYSTEM_SERVICE_PARAM_ID_ENTER_BUTTON_ASSIGN, &amp;enterassign)</span> 返回的整数值； <span class="inline">0</span> 表示圆圈按钮被用作 &quot;分配&quot;， <span class="inline">1</span> 表示使用X按钮代替。</li>
    </ul>
    <p class="dropspot"> </p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down8" href="#">PlayStation 5</a></p>
  <div class="droptext" data-targetname="drop-down8">
    <p class="dropspot">该函数在PlayStation 5游戏机上返回以下按键。</p>
    <ul class="dropspotlist">
      <li class="dropspot"><span class="inline">display_safe_area_ratio</span>:与PS4相同（见上文）。</li>
      <li class="dropspot"><span class="inline">display_resolution</span>: &quot;高清&quot;、&quot;4K &quot;或 &quot;未知&quot;</li>
      <li class="dropspot"><span class="inline">display_dynamic_range</span>: &quot;HDR&quot;、&quot;SDR &quot;或 &quot;未知&quot;</li>
      <li class="dropspot"><span class="inline">display_refresh_rate</span>: &quot;120Hz&quot;、&quot;60Hz &quot;或 &quot;未知&quot;</li>
    </ul>
    <p class="dropspot"> </p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down9" href="">Xbox One</a></p>
  <div class="droptext" data-targetname="drop-down9">
    <p class="dropspot">在Xbox One上返回的信息大多与<span class="notranslate">Windows</span> ，然而 <span class="inline">video_adapter_*</span> 和 <span class="inline">udid</span> 键是<span class="inline">0</span> （除了 <span class="inline">video_adapter_description</span> ，这是一个空的<span class="notranslate">string</span> <span class="inline2">&quot;&quot;</span> ）。它也没有 <span class="inline">video_d3d11_swapchain</span> 键。</p>
    <p class="dropspot">该平台还返回以下信息。</p>
    <ul class="dropspotlist">
      <li class="dropspot"><span class="inline">is_xbox_one_x</span>:如果游戏在Xbox One X上运行，这将是 <span class="inline">1</span> ，如果是在基本的Xbox One上运行，则是 <span class="inline">0</span> 。</li>
    </ul>
    <p class="dropspot"> </p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down10" href="">X系列X/S</a></p>
  <div class="droptext" data-targetname="drop-down10">
    <p class="dropspot">在Xbox系列X/S游戏机上返回的信息大多与Xbox One相同，然而 <span class="inline">video_d3d11_*</span> 键已被<span class="inline">video_d3d12_*</span> 。</p>
    <p class="dropspot">下面是这个平台除了在Xbox One下列出的一些关键之外，还返回了一些关键。</p>
    <ul class="dropspotlist">
      <li class="dropspot"><span class="inline">video_d3d12_cmdqueue</span>:指向DX12命令队列</li>
      <li class="dropspot"><span class="inline">video_d3d12_cmdlist</span>:指向DX12命令列表</li>
      <li class="dropspot"><span class="inline">video_d3d12_currentrt</span>:指向当前的DX12渲染目标</li>
    </ul>
  </div>
  <p> </p>
  <p> </p>
  <h4>语法。</h4>
  <p class="code">os_get_info()</p>
  <p> </p>
  <h4>返回。</h4>
  <p class="code"><span data-keyref="Type_ID_DS_Map"><a href="../../../../GameMaker_Language/GML_Reference/Data_Structures/DS_Maps/ds_map_create.htm" target="_blank">DS Map ID</a></span></p>
  <p> </p>
  <h4>例子。</h4>
  <p class="code">if (os_type == os_android)<br />
    {<br />
        var _info = os_get_info();<br />
        <br />
        if (_info[? &quot;android_tv&quot;])<br />
        {<br />
            global.android_tv = true;<br />
        }<br />
    }</p>
  <p>上述代码检查当前操作系统是否为<span class="notranslate">Android</span> ，获取操作系统信息并读取返回的地图，以检查游戏是否运行在<span class="notranslate">Android</span> 电视上；在这种情况下，它将自定义变量 <span class="inline">global.android_tv</span> 设为 <span class="inline">true</span> 。</p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">回来了。<a href="OS_And_Compiler.htm">操作系统和编译器</a></div>
        <div style="float:right">下一步。 <a href="os_powersave_enable.htm"><span class="notranslate">os_powersave_enable</span></a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright<span class="notranslate">YoYo Games Ltd.</span> 2022 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
os_get_info
-->
  <!-- TAGS
os_get_info
-->
</body>
</html>
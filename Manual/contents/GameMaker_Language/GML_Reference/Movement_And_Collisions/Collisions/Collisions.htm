<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>碰撞</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css" />
  <script src="../../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Reference section for Collision functions and variables" />
  <meta name="rh-index-keywords" content="" />
  <meta name="search-keywords" content="collisions,collision functions" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>碰撞</h1>
  <p>在计划动作或决定某些行动时，经常要看看在游戏世界的某些地方是否与其他<span class="notranslate">objects</span> ，往往选择合适的碰撞是最重要的任务。<span data-keyref="GameMaker Name">GameMaker</span>有许多内置的功能，可以帮助你根据项目的需要正确处理碰撞问题。</p>
  <p class="note"><span class="note"><b>注意</b></span>在以前的<span class="notranslate">GameMaker</span> ，碰撞函数曾经使用整数值，但现在它们使用浮点值，这意味着碰撞函数将不再对非整数参数进行取整。欲了解更多信息，请阅读<a data-xref="{title}" href="Collision_Compatibility_Mode.htm">碰撞兼容模式</a>。</p>
  <h2><label for="one">简单的碰撞检查</label></h2>
  <p>下面的函数处理了各种方式，你可以让一个实例检查与另一个实例的碰撞。</p>
  <ul class="colour">
    <li><a href="place_empty.htm"><span class="notranslate">place_empty</span></a></li>
    <li><a href="place_free.htm"><span class="notranslate">place_free</span></a></li>
    <li><a href="place_meeting.htm"><span class="notranslate">place_meeting</span></a></li>
    <li><a href="position_empty.htm"><span class="notranslate">position_empty</span></a></li>
    <li><a href="position_meeting.htm"><span class="notranslate">position_meeting</span></a></li>
    <li><a href="position_change.htm"><span class="notranslate">position_change</span></a></li>
    <li><a href="position_destroy.htm"><span class="notranslate">position_destroy</span></a></li>
    <li><a href="../../Asset_Management/Instances/instance_place.htm"><span class="notranslate">instance_place</span></a></li>
    <li><a href="../../Asset_Management/Instances/instance_place_list.htm"><span class="notranslate">instance_place_list</span></a></li>
    <li><a href="../../Asset_Management/Instances/instance_position.htm"><span class="notranslate">instance_position</span></a></li>
    <li><a href="../../Asset_Management/Instances/instance_position_list.htm"><span class="notranslate">instance_position_list</span></a></li>
  </ul>
  <p> </p>
  <h2>高级碰撞检查</h2>
  <p>下面的例程可以用于此（以及在有关<b>移动</b>和<b>实例</b>的章节中详述的其他函数）。这些碰撞函数的工作方式略有不同，但它们保持着三个共同的参数，我们将在此加以解释。</p>
  <ul class="colour">
    <li><b>obj</b>：这是我们指定函数必须检查碰撞的<span class="notranslate">object</span> 。它可以是一个实例ID，一个<span class="notranslate">object</span> 类型，或特殊的GM关键字<b>all</b>。还值得注意的是，如果选择的<span class="notranslate">object</span> 类型是其他<span class="notranslate">objects</span> 的指定<b>父类</b>，那么该<span class="notranslate">object</span> 的所有<i>子类</i>也将被包括在这个检查中。<b></b></li>
    <li><b>prec</b>:这可以是 <span class="inline">true</span> ，也可以是 <span class="inline">false</span> ，与碰撞检查的精度有关。如果设置为 <span class="inline">true</span> ，那么将计算精确的碰撞（但只有在被检查的<span class="notranslate">object</span> 在其掩码属性中为其碰撞检测标记了 &quot;精确 &quot;的情况下），这对CPU来说是一个稍微复杂的任务，所以应该谨慎使用。如果是 <span class="inline">false</span> ，那么碰撞将根据要检查的<span class="notranslate">object</span> 的边界框来计算。<b></b></li>
    <li><b>notme</b>。<span class="notranslate">object</span> 你可能需要检查与运行代码的<span class="notranslate">object</span> 的索引相同的碰撞，所以为了防止代码找到与自己的碰撞，你可以将此设置为 <span class="inline">true</span> 。如果你专门寻找运行代码的<span class="notranslate">object</span> 的实例，或者这并不重要，可以将其设置为 <span class="inline">false</span> 。</li>
  </ul>
  <p>基本函数将返回发现碰撞的实例的ID，或者在没有碰撞时返回特殊关键字<span class="inline">noone</span> ，而<i>列表</i>函数将返回发生碰撞的实例的数量，并将其ID填充到一个预先制作的DS列表中。请注意，如果这些函数定义的区域和给定的<span class="notranslate">object</span> ，有多次碰撞，则只返回<i>一个</i>实例ID，它可以是<i>碰撞中的任何一个实例</i>。</p>
  <p>存在以下处理高级碰撞的功能。</p>
  <ul class="colour">
    <li><a href="collision_circle.htm"><span class="notranslate">collision_circle</span></a></li>
    <li><a href="collision_circle_list.htm"><span class="notranslate">collision_circle_list</span></a></li>
    <li><a href="collision_ellipse.htm"><span class="notranslate">collision_ellipse</span></a></li>
    <li><a href="collision_ellipse_list.htm"><span class="notranslate">collision_ellipse_list</span></a></li>
    <li><a href="collision_line.htm"><span class="notranslate">collision_line</span></a></li>
    <li><a href="collision_line_list.htm"><span class="notranslate">collision_line_list</span></a></li>
    <li><a href="collision_point.htm"><span class="notranslate">collision_point</span></a></li>
    <li><a href="collision_point_list.htm"><span class="notranslate">collision_point_list</span></a></li>
    <li><a href="collision_rectangle.htm"><span class="notranslate">collision_rectangle</span></a></li>
    <li><a href="collision_rectangle_list.htm"><span class="notranslate">collision_rectangle_list</span></a></li>
  </ul>
  <p> </p>
  <h2>不戴面具的碰撞检查</h2>
  <p>上述所有的功能都与碰撞检查<i>实例</i>有关，因此依赖于为实例定义的碰撞掩码。然而，在很多时候，你需要检查与一个点或一个区域的 &quot;碰撞&quot;，特别是当你的实例没有分配一个<span class="notranslate">sprite</span> ，或者当你用鼠标工作时等等。因此<span data-keyref="GameMaker Name">GameMaker</span>也提供了以下功能来帮助你处理这些情况。</p>
  <ul class="colour">
    <li><a href="point_in_rectangle.htm"><span class="notranslate">point_in_rectangle</span></a></li>
    <li><a href="point_in_triangle.htm"><span class="notranslate">point_in_triangle</span></a></li>
    <li><a href="point_in_circle.htm"><span class="notranslate">point_in_circle</span></a></li>
    <li><a href="rectangle_in_rectangle.htm"><span class="notranslate">rectangle_in_rectangle</span></a></li>
    <li><a href="rectangle_in_triangle.htm"><span class="notranslate">rectangle_in_triangle</span></a></li>
    <li><a href="rectangle_in_circle.htm"><span class="notranslate">rectangle_in_circle</span></a></li>
  </ul>
  <p> </p>
  <h2>物理学碰撞</h2>
  <p>当使用内置物理时，上述碰撞函数不能保证对启用物理的实例起作用。这主要是由于这些实例不再使用大多数常规的内置变量（相反，启用物理的实例有<a href="../../Physics/Physics_Variables/Physics_Variables.htm">自己的一组变量</a>），也不使用碰撞掩码或边界框，因为它们使用<a href="../../Physics/Fixtures/Fixtures.htm">固定装置</a>。然而，在启用物理的情况下，有一个测试碰撞的特殊功能，可以检查重叠的固定装置。</p>
  <ul class="colour">
    <li><a href="../../Physics/physics_test_overlap.htm"><span class="notranslate">physics_test_overlap</span></a></li>
  </ul>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">背面。<a href="../Movement_And_Collisions.htm">运动和碰撞</a></div>
        <div style="float:right">下一步。<a href="../Movement/Movement.htm">运动</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright<span class="notranslate">YoYo Games Ltd.</span> 2022 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
Collision Functions
-->
  <!-- TAGS
collision_functions
-->
</body>
</html>
<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <title>编译器批处理文件/脚本</title>
  <meta name="topic-status" content="Draft" />
  <link rel="stylesheet" type="text/css" href="../../assets/css/default.css" />
  <meta name="template" content="../../assets/masterpages/Manual_Page.htt" />
  <meta name="rh-authors" content="Gurpreet S. Matharoo" />
  <meta name="topic-comment" content="Page explaining the batch files that can be used with the compiler" />
  <meta name="rh-index-keywords" content="Compiler Batch Files Scripts" />
  <meta name="search-keywords" content="compiler, batch, files, shell, scripts, asset compiler, run, build" />
</head>
<body>
  <h1>编译器批处理文件/脚本</h1>
  <p><span data-keyref="GameMaker Name">GameMaker</span>编译器允许你将Batch文件(<span class="notranslate">Windows</span>)或Shell<span class="notranslate">scripts</span> (在<span class="notranslate">macOS</span> 和<span class="notranslate">Linux</span>)放在你的项目目录中，以及你项目中每个<span class="notranslate">extension</span> 的目录中。</p>
  <h2>安置</h2>
  <p><span class="notranslate">script</span> 文件可以放在你的项目目录的根部，与项目的<span class="inline2">.yyp</span>文件一起。</p>
  <p>一个<span class="notranslate">script</span> 文件也可以放在一个<span class="notranslate">extension</span> 的目录中，它可能看起来像这样：<span class="inline2">&lt;project_directory&gt;/extensions/&lt;extension_folder&gt;/</span>。</p>
  <p>一个<span class="notranslate">extension</span> 文件的<span class="notranslate">script</span> 版本将被首先执行，而其根版本将被最后执行。<span class="notranslate">extensions</span> 的执行顺序是无法控制的，所以<span class="notranslate">extension</span> 开发者必须确保一个扩展的<span class="notranslate">scripts</span> 不依赖于另一个扩展的<span class="notranslate">scripts</span> 。</p>
  <h2>执行</h2>
  <p>具有特定名称的脚本文件，放置在上述任何一个目录中，在编译过程中的不同点被执行。</p>
  <table border="1" cellpadding="1" cellspacing="1">
    <colgroup>
      <col style="width:33.33%" />
      <col style="width:33.33%" />
      <col style="width:33.33%" />
    </colgroup>
    <tbody>
      <tr>
        <th>Windows批处理文件名称</th>
        <th>macOS/Linux Shell<span class="notranslate">Script</span> 名称</th>
        <th>描述</th>
      </tr>
      <tr>
        <td><strong>pre_run_step.bat</strong></td>
        <td><strong>pre_run_step.sh</strong></td>
        <td>这是在游戏部署即将开始之前执行的。</td>
      </tr>
      <tr>
        <td><strong>post_run_step.bat</strong></td>
        <td><strong>post_run_step.sh</strong></td>
        <td>当游戏准备好并准备运行时执行；在脚本执行后，游戏就开始了。</td>
      </tr>
      <tr>
        <td><strong>pre_build_step.bat</strong></td>
        <td><strong>pre_build_step.sh</strong></td>
        <td>在启动<span class="notranslate">asset</span> 编译器以构建游戏之前执行。</td>
      </tr>
      <tr>
        <td><strong>post_build_step.bat</strong></td>
        <td><strong>post_build_step.sh</strong></td>
        <td>这是在启动<span class="notranslate">asset</span> 编译器以构建游戏后执行的。</td>
      </tr>
      <tr>
        <td><strong>remote_build_step.bat</strong></td>
        <td><strong>remote_build_step.sh</strong></td>
        <td>This is executed on the remote machine, when you are on a Windows machine and compiling remotely for macOS/iOS/tvOS or Ubuntu.</td>
      </tr>
      <tr>
        <td><strong>pre_package_step.bat</strong></td>
        <td><strong>pre_package_step.sh</strong></td>
        <td>这是在最后的打包步骤之前执行的，也就是当所有的文件都准备好了，但最后的ZIP文件或存储包即将被创建的时候。</td>
      </tr>
      <tr>
        <td><strong>post_package_step.bat</strong></td>
        <td><strong>post_package_step.sh</strong></td>
        <td>这是在最后的包装步骤完成后执行的，最后的ZIP文件或存储包已经准备好了。</td>
      </tr>
      <tr>
        <td><strong>post_textures.bat</strong></td>
        <td><strong>post_textures.sh</strong></td>
        <td>这是在你的游戏的<span class="notranslate">textures</span> 已经生成之后执行的。你可以使用这个步骤来手动优化你的游戏<span class="notranslate">textures</span> 。<br>
          <br>
          这个<span class="notranslate">script</span> ，接收一个名为<span class="inline2">TexturesDir</span>的环境变量，它将<span class="notranslate">path</span> ，并存储到生成的<span class="notranslate">textures</span> 。
        </td>
      </tr>
      <tr>
        <th colspan="3">Platform-Specific Steps</th>
      </tr>
      <tr>
        <td><strong>pre_gradle_step.bat</strong></td>
        <td><strong>pre_gradle_step.sh</strong></td>
        <td><span class="important">Android</span> This is executed when the files necessary for the Android tools have been created, but before Gradle is called. You can use this step to access and modify the Android files yourself, before the Android tools compile it into a final executable.</td>
      </tr>
    </tbody>
  </table>
  <p>在所有目标平台上构建时都支持这些<span class="notranslate">script</span> 文件。</p>
  <h2>禁用一个扩展的<span class="notranslate">Scripts</span> </h2>
  <p><span class="notranslate">extensions</span> 如果你使用多个运行<span class="notranslate">scripts</span> ，例如Steamworks和GDK，那么在导出到GDK时，你要禁用Steamworks，反之亦然。</p>
  <p>关于这一点，请参阅。<a data-xref="{title}" href="../../The_Asset_Editors/Extension_Creation/Disabling_Extensions.htm">如何禁用<span class="notranslate">Extensions</span> ？</a></p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div>回来了。<a data-xref="{title}" href="Runner_Details.htm">运行器和编译器</a></div>
        <div>下一步。<a data-xref="{title}" href="../Command_Line_Parameters.htm">命令行参数</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright<span class="notranslate">YoYo Games Ltd.</span> 2022 All Rights Reserved</span></h5>
  </div>
</body>
</html>
<?xml version="1.0" encoding="utf-8" ?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>读取Ini文件</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../../assets/css/default.css" type="text/css" />
  <script src="../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page that explains the Read Ini File action" />
  <meta name="rh-index-keywords" content="GML Visual Action - Read Ini File" />
  <meta name="search-keywords" content="Read Ini File" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><img> 读取Ini文件</h1>
  <p>通过这个动作，你可以从一个Ini文件中读取一段数据。你必须事先用<a href="Open_Ini_File.htm">打开</a>Ini文件的动作打开Ini文件进行读/写，然后用这个动作给出要读的数据类型
    (实数或用&quot;&quot;括起来的<span class="notranslate">string</span> ），以及该部分的标题和该部分的键来获取数据。你也可以提供一个默认值，它可以是一个实数，也可以是一个<span class="notranslate">string</span> ，并且这个类型应该与 "类型 "一致。
    与动作中设置的 &quot;类型 &quot;相吻合。如果出现以下情况，这个默认动作将由动作返回。</p>
  <ul class="colour">
    <li>你所打开的Ini文件不存在</li>
    <li>你提到的章节标题不存在</li>
    <li>你试图获取数据的钥匙不存在</li>
  </ul>
  <p>在上述任何情况下，你都会得到返回的默认值，而不是来自Ini文件的值。无论返回的是什么值，都将存储在你指定的目标变量中，如果标记为临时局部变量，也可以在这时创建
    作为一个临时的局部变量。</p>
  <p class="note"><b>重要的是！</b>试图从一个以前没有用<a href="Open_Ini_File.htm">打开Ini文件</a>动作打开的Ini文件中读取数据，将导致一个严重的错误并使你的游戏崩溃。</p>
  <p> </p>
  <h4>行动语法。</h4>
  <p><img alt="Read Ini File Icon" class="icon" height="32" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Files/i_Files_Read_Ini_File.png" width="32"/></p>
  <h4>争论。</h4>
  <table>
    <tbody>
      <tr>
        <th>争论</th>
        <th>描述</th>
      </tr>
      <tr>
        <td><span class="notranslate">Type</span></td>
        <td>要读取的数据类型，可以是 <span class="inline">string</span> （用引号&quot;&quot;括起来），或者是一个 <span class="inline">real number</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">Section</span></td>
        <td>要从Ini文件中读取的部分（作为<span class="notranslate">string</span> ）。</td>
      </tr>
      <tr>
        <td><span class="notranslate">Key</span></td>
        <td>节内的钥匙，以读取（作为<span class="notranslate">string</span> ）</td>
      </tr>
      <tr>
        <td><span class="notranslate">Default</span></td>
        <td>如果文件、章节或键不存在，则返回默认值。</td>
      </tr>
      <tr>
        <td><span class="notranslate">Target</span></td>
        <td>用于保存动作返回值的目标变量</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>例子。</h4>
  <p><img>上面的动作块代码将打开一个Ini文件进行读取，然后使用从其中读取的数据来设置
    3个不同的全局变量，然后再次关闭该文件。</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">返回。<a href="File_Actions.htm">文件操作</a></div>
        <div style="float:right">下一步。<a href="If_File_Exists.htm">如果文件存在</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright<span class="notranslate">YoYo Games Ltd.</span> 2021 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
Action - Read Ini File
-->
  <!-- TAGS
action_ini_read
-->

</body></html>
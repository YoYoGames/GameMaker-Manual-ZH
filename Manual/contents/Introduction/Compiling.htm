<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>汇编</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../assets/css/default.css" type="text/css" />
  <script src="../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Compiling Projects In GameMaker" />
  <meta name="rh-index-keywords" content="Compiling" />
  <meta name="search-keywords" content="compiling" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>汇编</h1>
  <p><a class="glossterm" data-glossterm="汇编" href="#">编译</a>你的游戏可能意味着两件事之一：为测试而编译，或为创建最终的 <em><a class="glossterm" data-glossterm="可执行包" href="#">可执行包</a></em>为一个特定的目标平台。本页旨在详细解释这两个选项。</p>
  <h2>为测试而编译</h2>
  <p>编译你的游戏进行测试可以通过简单地按下<span class="notranslate">IDE</span> 顶部的播放按钮<img> ，这将启动游戏使用指定的目标进行测试。你也可以通过使用Debug按钮<img> ，在<strong>调试模式</strong>下运行游戏进行测试。这将运行游戏，但也会打开<strong>调试窗口</strong>，在那里你可以监控你的游戏的表现，并看到任何问题（更多信息请参见<a href="Debugging.htm">调试</a>部分）。</p>
  <h2>目标设置</h2>
  <p>默认情况下，<span data-keyref="GameMaker Name">GameMaker</span>将使用内置的<a class="glossterm" data-glossterm="虚拟机 (VM)" href="#">虚拟机（VM）</a>运行和调试，这或多或少与在所使用的桌面操作系统上运行相同。然而<span data-keyref="GameMaker Name">GameMaker</span>是一个<strong>跨平台的引擎</strong>，你可以在许多不同的目标平台上测试、调试和编译你的项目的可执行包（具体可用的平台取决于你的许可证的细节）。要改变当前的目标平台，你可以点击<img> 上的目标按钮<img> ，打开<strong>目标窗口</strong>，它看起来像这样（具体细节将根据你的许可证类型而变化）。</p>
  <p><img>在顶部的 "目标 "按钮旁边，您可以看到当前的设置，它告诉您实际使用的平台和具体设置，然后窗口的其余部分是所有可用目标的细节和选项，您可以选择使用这些目标来代替。该窗口的每个部分将在下面解释。</p>
  <div class="droptext" data-targetname="drop_down">
    <ul class="colour">
    </ul>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop_down2" href="#">平台</a></p>
  <div class="droptext" data-targetname="drop_down2">
    <p class="dropspot">本节列出了所有可用的目标平台。这个列表的内容将根据你所拥有的许可证而变化，但总是至少有 &quot;Opera GX &quot;目标。要选择一个目标，只需点击<img> ；然后，这将更新其余的选项窗口，根据所选平台显示不同的细节。</p>
    <p class="dropspot">为每个平台编译的具体细节在下面的<strong>&quot;创建最终可执行包</strong>&quot;部分给出。</p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop_down3" href="#">输出</a></p>
  <div class="droptext" data-targetname="drop_down3">
    <p class="dropspot">每个目标平台可以有一种或多种输出格式，主要有以下几种。</p>
    <ul class="dropspotlist">
      <li class="dropspot"><strong>VM</strong>。VM（虚拟机）目标为每个平台使用一个通用的<em>运行器 </em>，然后为你的游戏解释代码。一般来说，这个选项用于测试，因为它的构建时间更快，但它不能像使用YYC选项（如果可用）那样提供性能提升。你可以用它来编译较小的游戏或性能不会成为问题的游戏的可执行包。</li>
      <li class="dropspot"><strong>YYC</strong>。YYC<a data-xref="{title}" href="../Settings/YoYo_Compiler.htm">（YoYo Compiler</a>）从你的<span class="notranslate">GML</span> 代码中生成C++代码，然后使用目标的C++编译器将其编译为目标平台的本地代码。它剥离出不需要的功能，并执行一系列其他优化技术，以创建一个更小的、性能更强的可执行包。<br>
        <br>
        这可以使你的游戏性能至少提高两到三倍，特别是在逻辑性强的游戏上，对于那些大型或CPU密集型的项目来说是非常理想的。编译时间可能会更长，在为目标平台构建任何最终完整的<span class="notranslate">cache</span> 包之前，你应该始终清除编译器<span class="notranslate">asset</span> 。请注意，YYC目标可能需要为所选平台安装额外的工具，否则它将无法工作--你可以从<a href="https://help.yoyogames.com/hc/en-us/articles/227860547-GMS2-Required-SDKs">YoYo Games帮助中心</a>以及本手册中详细介绍的各个<a href="../Setting_Up_And_Version_Information/Platform_Preferences.htm">目标偏好</a>页面中找到有关的进一步信息。
      </li>
      <li class="dropspot"><strong>JavaScript</strong>。JavaScript目标将只适用于特定的目标，如HTML5目标，并将游戏设置为编译为纯JavaScript。这对其输出的JS使用<strong>ECMAScript 2015</strong>（或ES6）。</li>
    </ul>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop_down4" href="#">器材</a></p>
  <div class="droptext" data-targetname="drop_down4">
    <p class="dropspot">某些平台（如<span class="notranslate">iOS</span> 或<span class="notranslate">Android</span> ）允许你将一个或多个设备与<span data-keyref="GameMaker Name">GameMaker</span>联系起来，以便游戏可以有选择地编译到这些设备上。最初，设备列表将是空的，你需要点击<img> 上的铅笔图标<img> 来打开<strong>设备编辑器</strong>。</p>
    <p class="dropspot"><img>在这里你可以添加新的设备，也可以让<span data-keyref="GameMaker Name">GameMaker</span>测试与任何可能连接的设备的连接。这个窗口的具体内容取决于平台的具体情况（关于任何特定平台的具体细节，请参见<a href="../Setting_Up_And_Version_Information/The_Device_Manager.htm">设备管理器</a>部分）。一旦找到或添加了一个设备，它就会显示在这个窗口中，就像在这个Android的示例图片中。</p>
    <p class="dropspot"><img>设置设备和排除问题的确切程序和要求可以在<a href="https://help.yoyogames.com/hc/en-us/categories/204246668-GameMaker-Studio-2"><span data-keyref="GameMaker Name">GameMaker</span></a>知识库的相应部分找到。</p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down" href="#">配置</a></p>
  <div class="droptext" data-targetname="drop-down">
    <p class="dropspot"><span>正如在 "配置 "一节中所解释的那样<span> </span></span><a href="../Settings/Configurations.htm">配置</a><span>一节中解释的，你可以将编译游戏的某些细节存储为<span> </span></span><strong>配置</strong><span>.Targets 窗口的这一部分允许你让<span data-keyref="GameMaker Name">GameMaker</span>为特定的目标平台自动选择特定的配置。</span></p>
  </div>
  <p>还有一些可以设置的偏好，以修改和定制编译工作流程，在下一页解释。</p>
  <ul class="colour">
    <li><a href="../Setting_Up_And_Version_Information/IDE_Preferences/General/Compiling.htm">编译首选项</a></li>
  </ul>
  <h2>创建一个最终的可执行包</h2>
  <h3>概述</h3>
  <p><img> 你可以简单地点击<span class="notranslate">IDE</span> 中的创建可执行文件按钮来启动编译器构建，或者从<a href="../IDE_Navigation/Menus/The_Build_Menu.htm">构建菜单中选择</a> <strong>创建可执行文件</strong>。这两个过程都会启动构建过程，这取决于所选择的目标平台。</p>
  <p>在Opera GX目标上，它将打开一个特殊的窗口，允许你编译和上传你的游戏到GX.games；在所有其他目标上，它将打开一个文件资源管理器窗口，你可以给出你希望用于你的游戏可执行文件的最终名称，然后点击<em>保存 </em>开始编译和构建过程。一旦你完成了这些，必要的文件将被生成，这样你就可以按照你的意愿发布它。</p>
  <p>对于某些平台，编译你的游戏项目需要你设置了正确的 <strong> <a class="glossterm" data-glossterm="构建工具" href="#">构建工具</a></strong>(见<a href="../Setting_Up_And_Version_Information/Required_SDKs.htm">这里</a>)，并填写了适当的<a href="../Setting_Up_And_Version_Information/Platform_Preferences.htm">平台偏好</a>。</p>
  <p>根据你的<a href="https://help.yoyogames.com/hc/en-us/articles/115002637011" title="Which Licence Is Right For Me?">许可证</a>，你可以选择通过命令行构建你的游戏，允许你为你的项目设置持续集成，简化你的构建和测试过程。关于命令行构建的更多信息，<a href="../Settings/Building_via_Command_Line.htm">请参见本页面</a>。</p>
  <p class="note"><span class="note"><strong>注意</strong></span>在对你的项目进行最后的发布构建之前，你应该<strong>总是清除<span class="notranslate">Asset</span> 编译器<a class="glossterm" data-glossterm="缓存" href="#">缓存</a></strong>（使用<span class="notranslate">IDE</span> 顶部的 &quot;扫帚 &quot;图标<img> ）。<span data-keyref="GameMaker Name">GameMaker</span>将<span class="notranslate">cache</span> 许多游戏文件，以保持最小的编译速度，这些文件有时会被损坏，所以在进行发布构建之前，清除<span class="notranslate">cache</span> 是比较安全的。</p>
  <p>最终游戏包的最大尺寸是4GB，除了32位<span class="notranslate">Windows</span> ，它是2GB。参见<a href="https://help.yoyogames.com/hc/en-us/articles/4642066783505-How-to-Reduce-Your-Game-s-Size">减少最终游戏大小的提示</a>。</p>
  <h3>目标格式</h3>
  <p>每个目标选项都保存为一个平台的特定格式，如下所示。</p>
  <ul class="colour">
    <li><strong>Opera GX</strong>- 当为 &quot;Opera GX &quot;目标编译时，你会看到 &quot;Opera GX打包 &quot;窗口，它首先会要求你用Opera账户登录：<img>注意，如果你已经用Opera账户登录<span data-keyref="GameMaker Name">GameMaker</span>，就不需要在这里登录。<br>
      <br>
      在你登录后，它将开始编译你的游戏，并继续将其上传到GX.games。然后你可以点击 &quot;Edit Game on Opera &quot;在GX.games DevCloud上编辑游戏并发布。<br>
      <img>请参考<a href="https://help.yoyogames.com/hc/en-us/articles/4407217145105">本页面</a>了解更多关于Opera GX上传过程的信息，以及<a href="https://help.yoyogames.com/hc/en-us/articles/4625548722193">本页面</a>关于设置各种出口的信息，如<a href="../Settings/YoYo_Compiler.htm">YYC</a>和Mobile。
    </li>
    <li><strong>Windows - </strong> 为一般的<span class="notranslate">Windows</span> 操作系统编译，首先会要求你选择创建一个<em>安装程序 </em>或一个<em>Zip </em>包，其中安装程序将是一个单一的可执行文件，将安装你的游戏，而Zip文件将是一个单一的 <span class="inline">*.zip</span> 格式的压缩文件，所有的游戏文件都储存在其中（这些文件需要解压才能运行游戏）。<img>如果你勾选了标记为<strong>记住打包选项</strong>的方框，那么<span data-keyref="GameMaker Name">GameMaker</span>将记住这个选择，用于以后所有的编译（这可以在<a href="../Setting_Up_And_Version_Information/Platform_Preferences/Windows.htm">Windows首选项</a>中重置或改变）。你可以从<a href="https://help.yoyogames.com/hc/en-us/sections/207157668">YoYo Games帮助中心</a>了解更多信息。请注意，<span class="notranslate">Windows</span> 目标可以编译32位<em>或 </em>64位的可执行文件，这取决于你在<a href="../Settings/Game_Options/Windows.htm">常规游戏选项</a>中的选择。  我们<strong>强烈建议所有新项目使用x64<span class="notranslate">Runtime</span> 来创建64位可执行文件</strong>，因为32位<span class="notranslate">runtime</span> 将在未来被废弃和删除。</li>
    <li><strong>Ubuntu (<span class="notranslate">Linux</span>)</strong>- 为<span class="notranslate">Ubuntu</span> 编译将要求你选择创建一个<strong>.AppImage</strong>或<strong>.zip</strong>文件，其中包含x64或<span class="notranslate">ARM</span> 可执行文件（但是AppImage不支持<span class="notranslate">ARM</span> ）。你可以从<a href="http://help.yoyogames.com/hc/en-us/articles/235186168">YoYo Games帮助中心</a>了解更多。<br>
      <img><strong>.AppImage</strong>用于通过任何分销商分享软件包，除了<span class="notranslate">Steam</span> ，而<strong>.zip</strong> <strong>只</strong>用于上传到<span class="notranslate">Steam</span> （因为它专门使用<span class="notranslate">Steam</span> <span class="notranslate">Runtime</span> ）。正因为如此，创建的<tt>.zip</tt>不能作为普通的zip文件打开。
    </li>
    <li><strong>HTML5 - </strong> 如果你选择建立HTML5，那么将创建一个 <span class="inline">index.html</span> 文件（这是默认名称，但你也可以在平台首选项中给出自己的名称）以及一个包含你的游戏文件的文件夹，并保存到指定位置。为了使你的游戏正常运行，你需要将这两个文件上传到<a class="glossterm" data-glossterm="服务器" href="#">服务器</a>。 <span class="inline">index.html</span> 也可以定制，以不同的背景颜色或不同的位置显示你的游戏......但这需要HTML知识，你也可以在建立包时指定你自己的自定义索引文件（见<a href="../Settings/Game_Options/HTML5.htm">HTML5游戏选项</a>）。你可以从<a href="http://help.yoyogames.com/hc/en-us/sections/115000309008">YoYo Games帮助中心</a>了解更多。</li>
    <li><strong>安卓 - </strong> 对于<span class="notranslate">Android</span> 设备，你可以在显示的保存游戏的窗口中选择建立一个 <span class="inline">*.apk</span> 或 <span class="inline">*.aab</span> (<span class="notranslate">Android</span> App Bundle)文件。<br>
      <br>
      <img>你选择的文件类型将取决于你希望针对的商店，Google Play需要 <span class="inline">*.aab</span> 文件，而 <span class="inline">*.apk</span> 文件可用于其他商店。你可以从<a href="http://help.yoyogames.com/hc/en-us/articles/115001368727">YoYo Games帮助中心</a>了解更多。
    </li>
    <li><strong>iOS - </strong> 编译为<span class="notranslate">iOS</span> 将创建一个 <span class="inline">xarchive</span> 文件，然后在Xtools中使用，以创建最终的<span class="notranslate">iOS</span> 包。注意，<strong>要编译为<span class="notranslate">iOS</span> ，你需要一台运行OSX或更高版本的苹果Mac电脑，以及相关的证书和权限</strong>。你可以从<a href="http://help.yoyogames.com/hc/en-us/articles/115001368747">YoYo Games帮助中心</a>了解更多。</li>
    <li><strong>macOS - </strong> 为<span class="notranslate">macOS</span> ，首先要求你选择创建<em>DMG </em>或<em>Zip </em>文件。<br>
      <img>&quot;Package as DMG &quot;将建立一个.dmg安装包，可用于在Mac电脑上安装游戏。注意，在这个构建过程中，你将看到安装程序出现在Mac上，一旦构建过程完成，它将消失。<br>
      <br>
      &quot;打包为Zip &quot;将建立一个 <span class="inline">*.app</span> 文件或一个 <span class="inline">*.pkg</span> 文件，这取决于你是否想随后将其上传到Mac App Store。与<span class="notranslate">iOS</span> ，<strong>你将需要一台运行OSX或更高版本的苹果Mac电脑，以及相关的证书和权限</strong>。你可以从<a href="http://help.yoyogames.com/hc/en-us/articles/235186128">YoYo Games帮助中心</a>了解更多。
    </li>
    <li><strong>Windows UWP</strong>- 对于<span class="notranslate">Windows UWP</span> ，<span data-keyref="GameMaker Name">GameMaker</span>将创建一个 <span class="inline">*.appxbundle</span> 包，然后可以上传到<span class="notranslate">Windows</span> Store或在其他地方分发。当你点击Create Executable按钮时，你会被提示告诉<span data-keyref="GameMaker Name">GameMaker</span>你想创建哪种类型的软件包（可以是<span class="notranslate">ARM</span> 、x64和/或x86<a class="glossterm" data-glossterm="架构" href="#">架构</a>），你应该选择那些游戏将被支持的目标（你必须至少选择一个，但可以选择所有三个或任何组合）。 <br>
      <br>
      <img>如果你勾选了标有<strong>Package For Store Upload</strong>的复选框，那么最终创建的包将是一个 <span class="inline">*.appxupload</span> 文件，这是微软指定的用于向他们的商店提交应用程序的文件，正如本文<a href="https://docs.microsoft.com/en-us/windows/uwp/publish/upload-app-packages">所</a>解释的那样（所有选择的架构将被包括在内，就像<span class="inline">*.appxbundle</span> ）。你可以从<a href="http://help.yoyogames.com/hc/en-us/sections/115000309028">YoYo Games帮助中心</a>了解更多关于设置和编译到UWP平台的信息。
    </li>
  </ul>
  <p>一旦你创建了你的可执行<span class="notranslate">asset</span> 包，你就可以把文件给其他人或放在你的网站上下载，或把这些文件上传到不同的托管服务中进行单独分发，甚至上传到网上商店（如Google Play、Apple App Store或Microsoft Store）进行普遍分发和零售。</p>
  <p>请注意，你可以自由地以任何方式分发你用<span data-keyref="GameMaker Name">GameMaker</span>创建的游戏，包括出售它们。当然，这样做的前提是，你用来制作游戏的<span class="notranslate">sprites</span> 、图片和声音也可以分发或出售，并且你对所有<span class="notranslate">assets</span> ，还假定游戏符合<a href="https://www.yoyogames.com/legal/eula">YoYo Games的<span data-keyref="GameMaker Name">GameMaker</span></a> EULA。</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back:<a href="Introduction_To_GameMaker_Studio_2.htm"> <span data-keyref="GameMaker Name">GameMaker</span></a>简介</div>
        <div style="float:right">下一步。<a href="Debugging.htm">调试</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright<span class="notranslate">YoYo Games Ltd.</span> 2022 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
Compiling
Targets
Compiler Targets
VM
Test
YYC
YoYo Compiler
Cache
Cleaning The Cache
Device Editor
Adding Devices
Create Executable
Remote Workers
Target Manager
-->
  <!-- TAGS
compiling
compile_output
compile_platform
compile_device
compile_config
compile_remote
-->
</body>
</html>